(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.preactDeepForceUpdate = factory());
}(this, function () {

	/** Invoke `.forceUpdate()` on a component and all descendants. */
	function deepForceUpdate(component) {
		if (component.forceUpdate) {
			component.forceUpdate();
		}

		// high-order child recursion
		if (component._component) {
			deepForceUpdate(component._component);
		} else if (component.base) {
			updateComponentsFromDom(component.base);
		}
	}

	function updateComponentsFromDom(node, fn) {
		var children = node.childNodes;
		for (var i = children && children.length; i--;) {
			var child = children[i];
			if (child._component) {
				deepForceUpdate(child._component);
			} else {
				updateComponentsFromDom(child, fn);
			}
		}
	}

	return deepForceUpdate;

}));
//# sourceMappingURL=deep-force-update.js.map
